<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./vue.js"></script>
</head>

<body>


    <div id="app">
        <cmp-a></cmp-a>
        <cmp-b></cmp-b>
    </div>

    <script>
        Vue.prototype.$bus = new Vue();

        Vue.component('cmp-a', {
            data() {
                return {
                    a: 'a'
                }
            },
            methods: {
                onClick() {
                    this.$bus.$on('click', this.a)
                }
            },
            template: `
                <div>
                <button @click="onClick">点击</button>
                </div>
            `,
        })

        Vue.component('cmp-b', {
            mounted() {
                this.$bus.$on('click', data => {
                    console.log(data);
                })
            },
            template: `
                <div>b</div>
            `,
        })

        const vm = new Vue({
            el: '#app'
        });
    </script>





    <!-- <div id="app">
        <my-cmp></my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            template: `
                <div v-once>
                    <h1>Terms of Service</h1>
                    ... a lot of static content ...
                </div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->

    <!-- <my-cmp inline-template>
        <div>
            <p>These are complied as the component's own template</p>
            <p>Not parent's transclusion content</p>
        </div>
    </my-cmp> -->

    <!-- <div id="app">
        <hello-world></hello-world>
    </div>

    <script type="text/x-template" id="hello-world-template">
        <p>Hello hello hello</p>
    </script>

    <script>
        Vue.component('hello-world', {
            template: '#hello world-template'
        });
    </script> -->


    <!-- <div id="app">
        <my-cmp></my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            name: 'my-cmp', // 自动添加，因为是全局注册组件
            template: `
                <div>
                    <my-cmp />
                </div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->


    <!-- <div id="app">
        <cmp-father v-for="area in 2" :key="area">
            <cmp-input ref="input"></cmp-input>
        </cmp-father>
    </div>

    <script>
        Vue.component('cmp-father', {
            template: `
                <div><slot></slot></div>
            `
        });

        Vue.component('cmp-input', {
            template: `
                <input type="text" />
            `
        });

        const vm = new Vue({
            el: '#app',
            mounted() {
                console.log(this.$refs)
            }
        });
    </script> -->

    <!-- <div id="app">
        <cmp-father>
            <cmp-son></cmp-son>
        </cmp-father>
    </div>

    <script>
        Vue.component('cmp-father', {
            provide() {
                return {
                    name: 'zou'
                }
            },
            template: `
                <div><slot></slot></div>
            `
        });

        Vue.component('cmp-son', {
            inject: ['name'],
            mounted() {
                console.log(this.name);
            },
            template: `
                <div><slot></slot></div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->



    <!-- <div id="app">
        <cmp-parent>
            <cmp-son></cmp-son>
        </cmp-parent>
    </div>

    <script>
        Vue.component('cmp-parent', {
            data() {
                return {
                    name: 'zou'
                }
            },
            template: `
                <div><slot></slot></div>
            `
        });
        
        Vue.component('cmp-son', {
            mounted() {
                console.log(this.$parent.name);
            },
            template: `
                <div></div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->




    <!-- <div id="app">
        <my-cmp></my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            mounted() {
                console.log(this.$root.msg);
            },
            template: `
                <div></div>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                msg: 1
            }
        });
    </script> -->



    <!-- <div id="app">
        <button
         v-for="page in pages"
         :key="page.id"
         @click="cmpPage = page.cmp"
        >{{ page.name }}</button>
        <keep-alive>
            <component :is="cmpPage"></component>
        </keep-alive>
    </div>

    <script>
        Vue.component('cmp-post', {
            activated() {
                console.log('post activated');
            },
            deactivated() {
                console.log('post deactivated');
            },
            created() {
                this.postCmp = this.posts[0].content;
            },
            data() {
                return {
                    postCmp: undefined,
                    posts: [
                        { title: '標題', content: { template: `<div>内容1</div>`}, id: 11 },
                        { title: '標題1', content: { template: `<div>内容2</div>`}, id: 12 },
                        { title: '標題2', content: { template: `<div>内容3</div>`}, id: 13 },

                    ]
                }
            },
            template: `
                <div>
                    <button
                     v-for="post in posts"
                     :key="post.id"
                     @click="postCmp = post.content"
                    >{{ post.title }}</button>
                    <component :is="postCmp" />
                </div>
            `
        });

        Vue.component('cmp-more', {
            activated() {
                console.log('more activated');
            },
            deactivated() {
                console.log('more deactivated');
            },
            template: `
                <div>more</div>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                pages: [
                    { name: '博客', cmp: 'cmp-post', id: 0 },
                    { name: '更多', cmp: 'cmp-more', id: 1 },
                ],
                cmpPage: 'cmp-post'
            }
        });
    </script> -->


    <!-- <div id="app">
        <base-input
         v-model="isChecked"
        ></base-input>
    </div>


    <script>
        Vue.component('base-input', {
            model: {
                prop: 'checked',
                event: 'change'
            },
            props: {
                checked: Boolean
            },
            template: `
                <input 
                 type="checkbox"
                 :checked="checked"
                 @change="$emit('change', $event.target.checked)"
                 />
            `
        });

        const vm = new Vue({
            el: '#app',
            methods: {
                chagneChecked(e) {
                    this.isChecked = e;
                }
            },
            data: {
                isChecked: true
            }
        });
    </script> -->


    <!-- <div id="app">
        <base-input
         :checked="isChecked"
         @change="chagneChecked($event)"
        ></base-input>
    </div>


    <script>
        Vue.component('base-input', {
            props: {
                checked: Boolean
            },
            template: `
                <input 
                 type="checkbox"
                 :checked="checked"
                 @change="$emit('change', $event.target.checked)"
                 />
            `
        });

        const vm = new Vue({
            el: '#app',
            methods: {
                chagneChecked(e) {
                    this.isChecked = e;
                }
            },
            data: {
                isChecked: true
            }
        });
    </script> -->




    <!-- <div id="app">
        <div-container>
            <template #header>
                header area
            </template>
            <template #default>
                main area
            </template>
            <span>main area</span>
            <template #footer>
                footer area
            </template>
        </div-container>
    </div>

    <script>
        Vue.component('div-container', {
            template: `
                <div class='container'>
                    <header>
                        <slot name='header'></slot>
                    </header>
                    <main>
                        <slot></slot>
                    </main>
                    <footer>
                        <slot name='footer'></slot>
                    </footer>
                </div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->

    <!-- <div id="app">
        <my-cmp>
            <template v-slot:default="user">
                {{ user.user }}
            </template>
        </my-cmp>

        <my-cmp v-slot="{ user = { sex: 'male' }}">
            {{ user }}
        </my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            data() {
                return {
                    user: {
                        name: 'zou',
                        age: 20,
                        sex: 'female'
                    }
                }
            },
            template: `
                <span>
                    <slot :user="user"></slot>
                </span>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->



    <!-- <div id="app">
        <div-container>
            <template v-slot:header>
                header area
            </template>
            <template v-slot:default>
                main area
            </template>
            <span>main area</span>
            <template v-slot:footer>
                footer area
            </template>
        </div-container>
    </div>

    <script>
        Vue.component('div-container', {
            template: `
                <div class='container'>
                    <header>
                        <slot name='header'></slot>
                    </header>
                    <main>
                        <slot></slot>
                    </main>
                    <footer>
                        <slot name='footer'></slot>
                    </footer>
                </div>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->



    <!-- <div id="app">
        <base-container>
            <base-item></base-item>
        </base-container>
    </div>

    <script>
        Vue.component('base-container', {
            template: `
                <div>
                    <slot>Submit</slot>
                </div>
            `
        });

        Vue.component('base-item', {
            template: `
                <span></span>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->



    <!-- <div id="app">
        <input-base
         :value.sync="value"
        ></input-base>
    </div>

    <script>
        Vue.component('input-base', {
            props: ['value'],
            template: `
                <label>
                    <input type='text' :value='value' @input="$emit('update:value', $event.target.value)" />
                </label>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                value: 'name'
            }
        });
    </script> -->



    <!-- <div id="app">
        <input-cmp
         @focus="onFocus"
         @blur="onBlur"
        ></input-cmp>
    </div>

    <script>
        Vue.component('input-cmp', {
            mounted() {
                console.log(this.$listeners);
            },
            template: `
                <label>
                    name：<input type='text' v-on="$listeners" />
                </label>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                value: 'name'
            },
            methods: {
                onFocus() {
                    console.log('onFocus');
                },
                onBlur() {
                    console.log('onBlur');
                }
            }
        });
    </script> -->


    <!-- <div id="app">
        <div 
         :style="{fontSize: postFontSize + 'em'}"
        >
            <blog-post
             v-for="post in posts"
             :key="post.id"
             :post="post"
             @enlarge-text="postFontSize += $event"
            ></blog-post>
        </div>
    </div>

    <script>
        Vue.component('blog-post', {
            props: {
                post: Object
            },
            template: `
                <div>
                    <h3>{{ post.title }}</h3>
                    <button @click="$emit('enlarge-text', 0.2)">放大字号</button>
                    <div>{{ post.content }}</div>
                </div>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                posts: [
                    { title: '标题1', content: '正文内容', id: 0 },
                    { title: '标题2', content: '正文内容', id: 1 },
                    { title: '标题3', content: '正文内容', id: 2 }
                ],
                postFontSize: 1
            },
        });
    </script> -->

    <!-- <div id="app">
        <my-cmp type="radio"></my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            mounted() {
                console.log(this.$attrs);
            },
            inheritAttrs: false,
            template: `
                <label>
                    选项：<input v-bind='$attrs' />
                </label>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->




    <!-- <div id="app">
        <my-input a="a" b="b"></my-input>
    </div>

    <script>
        Vue.component('my-input', {
            props: ['a'],
            template: `
                <input b='a' />
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->

    <!-- <div id="app">
        <button @click="count++">{{ count }}</button>
        <button-item :count="count"></button-item>
    </div>

    <script>
        Vue.component('button-item', {
            data() {
                return {
                    counter: this.count
                }
            },
            props: {
                count: Number
            },
            template: `
                <button @click="counter++">{{ counter }}</button>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                count: 0
            }
        });
    </script> -->



    <!-- <div id="app">
        <student-item v-bind="person"></student-item>
    </div>

    <script>
        Vue.component('student-item', {
            props: {
                name: String,
                age: Number
            },
            template: `
                <div>
                    姓名：<span>{{ name }}</span>
                    年龄：<span>{{ age }}</span>
                </div>
            `
        });

        const vm = new Vue({
            el: '#app',
            data: {
                person: {
                    name: 'zou',
                    age: 20
                }
            }
        });
    </script> -->



    <!-- <div id="app">
        <video-item sub-title="hello!"></video-item>
    </div>

    <script>
        Vue.component('video-item', {
            props: ['subTitle'],
            template: `
                <h3>{{ subTitle }}</h3>
            `
        });

        const vm = new Vue({
            el: '#app'
        });
    </script> -->



    <!-- <div id="app">
        <button-click />
        <button-count></button-count>
    </div>

    <script>


        // Vue.component('button-click', {
        //     data() {
        //         return {
        //             count: 0
        //         }
        //     },
        //     template: `
        //         <div>
        //             <span>{{ count }}</span>
        //             <button @click="count++">你点了我{{ count }}次</button>
        //         </div>
        //     `
        // });

        // const buttonCount = {
        //     data() {
        //         return {
        //             count: 0
        //         }
        //     },
        //     template: `
        //         <div>
        //             <span>{{ count }}</span>
        //             <button @click="count++">你点击了我{{ count }}次</button>
        //         </div>
        //     `
        // }

        // const vm = new Vue({
        //     el: '#app',
        //     components: {
        //         'button-count': buttonCount
        //     },
        //     template: `
        //         <div id="app">
        //             <button-count />
        //         </div>
        //     `
        // });
    </script> -->
</body>

</html>